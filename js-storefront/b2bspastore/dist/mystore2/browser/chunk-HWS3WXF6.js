import{c as tt}from"./chunk-V5GAC2L7.js";import"./chunk-PWBMBWIR.js";import{$ as K,Y as G,_ as J,na as Q,sa as X,va as Z}from"./chunk-ABA734YC.js";import{Aa as M,Ac as F,Dd as $,Eb as I,Fa as T,Fb as f,Ga as C,Gb as h,Hc as P,I as A,Of as Y,Pb as w,Pf as O,Ta as i,Ua as L,Xb as a,Yb as c,Ze as j,ac as W,cb as l,df as H,eb as r,ef as U,je as D,kb as d,lb as x,ma as b,mb as u,nb as m,ob as g,og as q,pg as z,qb as v,sa as E,sb as y,se as N,tb as n,td as V,v as k,vc as B,vd as R,za as S}from"./chunk-FDYREMOD.js";var et=()=>({cxRoute:"login"});function nt(e,p){if(e&1){let t=v();d(0,"div")(1,"button",5),a(2,"async"),a(3,"cxTranslate"),y("click",function(){let _=T(t).ngIf,s=n(6);return C(s.remove(_))}),u(4,"cx-icon",6),d(5,"span",7),f(6),a(7,"cxTranslate"),x()()()}if(e&2){let t=n(6);i(),r("disabled",c(2,4,t.loading$))("cxAtMessage",c(3,6,"addToWishList.removedFromWishList")),i(3),r("type",t.iconTypes.HEART),i(2),h(c(7,8,"addToWishList.remove"))}}function it(e,p){if(e&1){let t=v();d(0,"button",8),a(1,"async"),a(2,"cxTranslate"),y("click",function(){T(t);let _=n(5).ngIf,s=n();return C(s.add(_))}),u(3,"cx-icon",6),d(4,"span",7),f(5),a(6,"cxTranslate"),x()()}if(e&2){let t=n(6);r("disabled",c(1,4,t.loading$))("cxAtMessage",c(2,6,"addToWishList.addedToWishList")),i(3),r("type",t.iconTypes.EMPTY_HEART),i(2),h(c(6,8,"addToWishList.add"))}}function ot(e,p){if(e&1&&(m(0),l(1,nt,8,10,"div",3)(2,it,7,10,"ng-template",null,1,W),g()),e&2){let t=I(3),o=n(2).ngIf,_=n(2).ngIf,s=n();i(),r("ngIf",s.getProductInWishList(_,o))("ngIfElse",t)}}function rt(e,p){if(e&1){let t=v();d(0,"div")(1,"button",9),a(2,"async"),a(3,"cxTranslate"),y("click",function(){let _=T(t).ngIf,s=n(6);return C(s.remove(_))}),u(4,"cx-icon",6),d(5,"span",7),f(6),a(7,"cxTranslate"),x()()()}if(e&2){let t=n(6);i(),r("disabled",c(2,4,t.loading$))("cxAtMessage",c(3,6,"addToWishList.removedFromWishList")),i(3),r("type",t.iconTypes.HEART),i(2),h(c(7,8,"addToWishList.remove"))}}function at(e,p){if(e&1){let t=v();d(0,"button",10),a(1,"async"),a(2,"cxTranslate"),y("click",function(){T(t);let _=n(5).ngIf,s=n();return C(s.add(_))}),u(3,"cx-icon",6),d(4,"span",7),f(5),a(6,"cxTranslate"),x()()}if(e&2){let t=n(6);r("disabled",c(1,4,t.loading$))("cxAtMessage",c(2,6,"addToWishList.addedToWishList")),i(3),r("type",t.iconTypes.EMPTY_HEART),i(2),h(c(6,8,"addToWishList.add"))}}function ct(e,p){if(e&1&&(m(0),l(1,rt,8,10,"div",3)(2,at,7,10,"ng-template",null,1,W),g()),e&2){let t=I(3),o=n(2).ngIf,_=n(2).ngIf,s=n();i(),r("ngIf",s.getProductInWishList(_,o))("ngIfElse",t)}}function st(e,p){e&1&&(m(0),l(1,ot,4,2,"ng-container",4)(2,ct,4,2,"ng-container",4),g()),e&2&&(i(),r("cxFeature","a11yLinkBtnsToTertiaryBtns"),i(),r("cxFeature","!a11yLinkBtnsToTertiaryBtns"))}function _t(e,p){if(e&1&&(m(0),l(1,st,3,2,"ng-container",2),g()),e&2){let t=n(3);i(),r("ngIf",t.hasStock)}}function pt(e,p){if(e&1&&(m(0),l(1,_t,2,1,"ng-container",2),a(2,"async"),g()),e&2){let t=n(2);i(),r("ngIf",c(2,1,t.wishListEntries$))}}function dt(e,p){if(e&1&&(m(0),l(1,pt,3,3,"ng-container",3),a(2,"async"),g()),e&2){let t=n(),o=I(3);i(),r("ngIf",c(2,2,t.userLoggedIn$))("ngIfElse",o)}}function lt(e,p){if(e&1&&(m(0),d(1,"a",11),a(2,"cxUrl"),u(3,"cx-icon",6),d(4,"span",7),f(5),a(6,"cxTranslate"),x()(),g()),e&2){let t=n(2);i(),r("routerLink",c(2,3,w(7,et))),i(2),r("type",t.iconTypes.EMPTY_HEART),i(2),h(c(6,5,"addToWishList.anonymous"))}}function mt(e,p){if(e&1&&l(0,lt,7,8,"ng-container",2),e&2){let t=n();r("ngIf",t.hasStock)}}var gt=(()=>{class e{constructor(t,o,_){this.wishListFacade=t,this.currentProductService=o,this.authService=_,this.product$=this.currentProductService.getProduct().pipe(A(D),b(s=>this.setStockInfo(s))),this.userLoggedIn$=this.authService.isUserLoggedIn().pipe(b(s=>{s&&(this.wishListEntries$=this.getWishListEntries(),this.loading$=this.wishListFacade.getWishListLoading())})),this.hasStock=!1,this.iconTypes=G,U("a11yVisibleFocusOverflows")}add(t){t.code&&this.wishListFacade.addEntry(t.code)}remove(t){this.wishListFacade.removeEntry(t)}getProductInWishList(t,o){return o.find(s=>s.product?.code===t.code)}setStockInfo(t){this.hasStock=!!(t.stock&&t.stock.stockLevelStatus!=="outOfStock")}getWishListEntries(){return this.wishListFacade.getWishList().pipe(A(t=>!!t),k(t=>t.entries??[]))}static{this.\u0275fac=function(o){return new(o||e)(L(tt),L(Q),L(N))}}static{this.\u0275cmp=S({type:e,selectors:[["cx-add-to-wishlist"]],decls:4,vars:3,consts:[["loginPrompt",""],["addItem",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],[4,"cxFeature"],[1,"btn","btn-tertiary","button-remove",3,"click","disabled","cxAtMessage"],[3,"type"],[1,"button-text"],[1,"btn","btn-tertiary","button-add",3,"click","disabled","cxAtMessage"],[1,"btn","btn-link","button-remove","cx-action-link",3,"click","disabled","cxAtMessage"],[1,"btn","btn-link","button-add","cx-action-link",3,"click","disabled","cxAtMessage"],[1,"btn","btn-link","button-add-link","cx-action-link",3,"routerLink"]],template:function(o,_){o&1&&(l(0,dt,3,4,"ng-container",2),a(1,"async"),l(2,mt,1,1,"ng-template",null,0,W)),o&2&&r("ngIf",c(1,1,_.product$))},dependencies:[B,J,V,X,j,F,q,Y],encapsulation:2,changeDetection:0})}}return e})(),At=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=M({type:e})}static{this.\u0275inj=E({providers:[$({cmsComponents:{AddToWishListComponent:{component:gt}}})],imports:[P,z,K,R,O,Z,H]})}}return e})();export{gt as AddToWishListComponent,At as AddToWishListModule};
