import{a as fe}from"./chunk-TXT7M6TI.js";import{L as st,M as ct,N as Dt,O as K}from"./chunk-PWBMBWIR.js";import{$ as Z,Mb as de,Nb as pe,O as A,P as St,R as z,W as J,Y as ce,_ as ue,ca as Rt,da as tt,ga as et,ha as nt,na as le,yb as bt}from"./chunk-ABA734YC.js";import{Aa as y,Ac as j,Ae as Zt,Dd as D,E as Pt,Eb as vt,Ed as Wt,Fa as gt,Fb as _,Ga as mt,Gb as U,Gf as oe,Hb as E,Hc as M,I as Q,Lc as Kt,Me as te,N as qt,Ne as ee,Of as Tt,Pc as Gt,Pf as X,Qb as _t,Qc as Et,R as I,Rb as k,Rc as Qt,Rd as Xt,Sb as jt,Sc as Ht,Ta as o,Ua as T,V as Ut,Vd as at,Vf as ae,Wf as Ot,Xb as u,Yb as l,Z as kt,Zb as ot,Ze as ne,ac as Vt,cb as p,ce as zt,cf as ie,db as F,df as re,eb as c,fc as $t,gb as Lt,ge as W,i as Bt,ja as B,kb as h,lb as v,ma as ft,mb as Y,n as b,nb as f,ng as se,ob as g,og as V,pb as Ct,pg as $,qb as yt,ra as S,s as pt,sa as m,sb as ht,se as Jt,t as Ft,tb as a,td as xt,ua as C,uc as It,v as x,va as H,vc as L,vd as N,wb as rt,za as q,zd as Yt}from"./chunk-FDYREMOD.js";var Te=(e,r,t)=>({ownerType:e,entityKey:r,displayOnly:t}),me=(e,r)=>({cxRoute:e,params:r});function Oe(e,r){e&1&&Ct(0)}function Se(e,r){if(e&1&&(h(0,"label",4),p(1,Oe,1,0,"ng-container",5),v()),e&2){a(2);let t=vt(3),n=a();o(),c("ngIf",n.isDisabled())("ngIfThen",t)}}function Re(e,r){e&1&&Ct(0)}function be(e,r){if(e&1&&(h(0,"a",6),u(1,"cxUrl"),u(2,"async"),p(3,Re,1,0,"ng-container",5),v()),e&2){let t=a(2).ngIf,n=vt(3),i=a();c("routerLink",l(1,5,k(13,me,i.getRoute(),jt(9,Te,i.retrieveOwnerTypeFromAbstractOrderType(t),i.retrieveEntityKey(t),i.getDisplayOnly()))))("queryParams",l(2,7,i.queryParams$)),F("aria-describedby",i.getResolveIssuesA11yDescription()),o(3),c("ngIf",!i.isDisabled())("ngIfThen",n)}}function De(e,r){if(e&1&&(f(0),p(1,Se,2,2,"label",2)(2,be,4,16,"a",3),g()),e&2){let t=a(2);o(),c("ngIf",t.isDisabled()),o(),c("ngIf",!t.isDisabled())}}function Me(e,r){e&1&&(f(0),_(1),u(2,"cxTranslate"),g()),e&2&&(o(),E(" ",l(2,1,"configurator.header.displayConfiguration"),""))}function Ae(e,r){e&1&&(f(0),_(1),u(2,"cxTranslate"),g()),e&2&&(o(),E(" ",l(2,1,"configurator.header.editConfiguration")," "))}function Ne(e,r){e&1&&(f(0),_(1),u(2,"cxTranslate"),g()),e&2&&(o(),E(" ",l(2,1,"configurator.header.resolveIssues")," "))}function we(e,r){if(e&1&&p(0,Me,3,3,"ng-container",1)(1,Ae,3,3,"ng-container",1)(2,Ne,3,3,"ng-container",1),e&2){let t=a(2);c("ngIf",t.getDisplayOnly()),o(),c("ngIf",!t.getDisplayOnly()&&!t.msgBanner),o(),c("ngIf",!t.getDisplayOnly()&&t.msgBanner)}}function Be(e,r){if(e&1&&(f(0),p(1,De,3,2,"ng-container",1)(2,we,3,3,"ng-template",null,0,Vt),g()),e&2){let t=a();o(),c("ngIf",t.cartEntry)}}var Ce=e=>({count:e});function Fe(e,r){if(e&1&&(Y(0,"cx-configure-cart-entry",4),u(1,"async")),e&2){let t,n=a().ngIf,i=a(2).ngIf,s=a();c("cartEntry",i)("readOnly",(t=l(1,4,s.readonly$))!==null&&t!==void 0?t:!1)("msgBanner",!0)("disabled",n.disabled)}}function Pe(e,r){if(e&1&&(f(0),p(1,Fe,2,6,"cx-configure-cart-entry",3),u(2,"async"),g()),e&2){let t=a(2).ngIf,n=a();o(),c("ngIf",l(2,1,n.shouldShowButton$)&&(t==null||t.product==null?null:t.product.configurable))}}function qe(e,r){if(e&1&&(f(0),Y(1,"cx-icon",1),h(2,"div",2),_(3),u(4,"cxTranslate"),p(5,Pe,3,3,"ng-container",0),u(6,"async"),v(),g()),e&2){let t=a().ngIf,n=a();o(),c("type",n.iconTypes.ERROR),o(),rt("id",n.getErrorMessageId(t)),o(),E(" ",ot(4,4,"configurator.notificationBanner.numberOfIssues",_t(9,Ce,n.getNumberOfIssues(t)))," "),o(2),c("ngIf",l(6,7,n.quantityControl$))}}function Ue(e,r){if(e&1&&(f(0),p(1,qe,7,11,"ng-container",0),u(2,"async"),g()),e&2){let t=r.ngIf,n=a();o(),c("ngIf",n.hasIssues(t)&&!l(2,1,n.readonly$))}}var ke=(e,r)=>({attribute:e,value:r});function Le(e,r){e&1&&(h(0,"span",3),_(1),u(2,"cxTranslate"),v()),e&2&&(o(),E(" ",l(2,1,"configurator.a11y.cartEntryInfoIntro")," "))}function je(e,r){if(e&1&&(h(0,"div",4)(1,"span",5),_(2),u(3,"cxTranslate"),v(),h(4,"div",6),_(5),v(),h(6,"div",7),_(7),v()()),e&2){let t=r.$implicit,n=r.index,i=a(4);F("aria-describedby",i.getHiddenConfigurationInfoId(n)),o(),rt("id",i.getHiddenConfigurationInfoId(n)),o(),E(" ",ot(3,5,"configurator.a11y.cartEntryInfo",k(8,ke,t.configurationLabel,t.configurationValue))," "),o(3),E(" ",t==null?null:t.configurationLabel,": "),o(2),E(" ",t==null?null:t.configurationValue," ")}}function Ve(e,r){if(e&1&&(f(0),p(1,Le,3,3,"span",1)(2,je,8,11,"div",2),g()),e&2){let t,n=a(2).ngIf;o(),c("ngIf",(t=n.configurationInfos==null?null:n.configurationInfos.length)!==null&&t!==void 0?t:!1),o(),c("ngForOf",n.configurationInfos)}}function $e(e,r){if(e&1&&(Y(0,"cx-configure-cart-entry",9),u(1,"async")),e&2){let t,n=a().ngIf,i=a(2).ngIf,s=a();c("cartEntry",i)("readOnly",(t=l(1,4,s.readonly$))!==null&&t!==void 0?t:!1)("msgBanner",!1)("disabled",n.disabled)}}function Ke(e,r){if(e&1&&(f(0),p(1,$e,2,6,"cx-configure-cart-entry",8),u(2,"async"),g()),e&2){let t=a(2).ngIf,n=a();o(),c("ngIf",l(2,1,n.shouldShowButton$)&&(t==null||t.product==null?null:t.product.configurable))}}function Ge(e,r){if(e&1&&(f(0),p(1,Ve,3,2,"ng-container",0)(2,Ke,3,3,"ng-container",0),u(3,"async"),g()),e&2){let t=a().ngIf,n=a();o(),c("ngIf",n.hasStatus(t)),o(),c("ngIf",l(3,2,n.quantityControl$))}}function Qe(e,r){if(e&1&&(f(0),p(1,Ge,4,4,"ng-container",0),g()),e&2){let t=r.ngIf,n=a();o(),c("ngIf",n.isAttributeBasedConfigurator(t))}}var He=(e,r)=>({ownerType:e,entityKey:r}),Ye=(e,r)=>({displayRestartDialog:e,productCode:r});function We(e,r){if(e&1){let t=yt();f(0),h(1,"button",2),u(2,"cxTranslate"),ht("click",function(){gt(t);let i=a(2).ngIf,s=a();return mt(s.navigateToConfigurator(i))}),_(3),u(4,"cxTranslate"),v(),g()}if(e&2){let t=a(2).ngIf,n=a();o(),F("aria-label",l(2,2,n.getAriaLabelTranslationKey(t.configuratorType))),o(2),E(" ",l(4,4,n.getTranslationKey(t.configuratorType))," ")}}function Xe(e,r){if(e&1&&(f(0),h(1,"a",3),u(2,"cxUrl"),u(3,"cxTranslate"),_(4),u(5,"cxTranslate"),v(),g()),e&2){let t=a(2).ngIf,n=a();o(),c("routerLink",l(2,4,k(13,me,"configure"+t.configuratorType,k(10,He,n.ownerTypeProduct,t.code))))("queryParams",k(16,Ye,n.isDisplayRestartDialog(t.configuratorType),t.code)),F("aria-label",l(3,6,n.getAriaLabelTranslationKey(t.configuratorType))),o(3),U(l(5,8,n.getTranslationKey(t.configuratorType)))}}function ze(e,r){e&1&&(f(0),p(1,We,5,6,"ng-container",1)(2,Xe,6,19,"ng-container",1),g()),e&2&&(o(),c("cxFeature","a11yUseButtonsForBtnLinks"),o(),c("cxFeature","!a11yUseButtonsForBtnLinks"))}function Je(e,r){if(e&1&&(f(0),p(1,ze,3,2,"ng-container",0),g()),e&2){let t=r.ngIf,n=a();o(),c("ngIf",t.configurable&&!n.isReadOnlyBaseProduct(t))}}function Ze(e,r){if(e&1&&(f(0),h(1,"span",11),_(2),u(3,"cxTranslate"),v(),h(4,"span",12),_(5),u(6,"cxNumeric"),v(),g()),e&2){let t=a().$implicit;o(2),U(l(3,2,"configurator.attribute.quantity")),o(3),U(l(6,4,t==null?null:t.formattedQuantity))}}function tn(e,r){if(e&1&&(f(0),h(1,"span",11),_(2),u(3,"cxTranslate"),v(),h(4,"span",12),_(5),v(),g()),e&2){let t=a().$implicit;o(2),U(l(3,2,"configurator.overviewForm.itemPrice")),o(3),U(t==null?null:t.formattedPrice)}}function en(e,r){if(e&1&&(h(0,"div",6)(1,"span",7),_(2),v(),h(3,"div",8),_(4),v(),h(5,"div",9),p(6,Ze,7,6,"ng-container",0),v(),h(7,"div",10),p(8,tn,6,4,"ng-container",0),v()()),e&2){let t=r.$implicit,n=r.index,i=a(4);F("aria-describedby",i.getHiddenItemInfoId(n)),o(),rt("id",i.getHiddenItemInfoId(n)),o(),E(" ",i.getHiddenItemInfo(t)," "),o(2),E(" ",t==null?null:t.name," "),o(2),c("ngIf",t==null?null:t.formattedQuantity),o(2),c("ngIf",t==null?null:t.formattedPrice)}}function nn(e,r){if(e&1){let t=yt();f(0),h(1,"div",1),_(2),u(3,"cxTranslate"),v(),h(4,"button",2),ht("click",function(){gt(t);let i=a(3);return mt(i.toggleItems())}),h(5,"div",3),_(6),v()(),h(7,"div",4),p(8,en,9,6,"div",5),u(9,"async"),v(),g()}if(e&2){let t=r.ngIf,n=a(3);o(2),E(" ",ot(3,7,"configurator.header.items",_t(12,Ce,t))," "),o(2),F("aria-expanded",!n.hideItems)("aria-label",n.getItemsMsg(t)),o(2),E(" ",n.getButtonText()," "),o(),Lt("open",!n.hideItems),o(),c("ngForOf",l(9,10,n.lineItems$))}}function rn(e,r){if(e&1&&(Y(0,"cx-configure-cart-entry",14),u(1,"async")),e&2){let t,n=a().ngIf,i=a(2).ngIf,s=a();c("cartEntry",i)("readOnly",(t=l(1,4,s.readonly$))!==null&&t!==void 0?t:!1)("msgBanner",!1)("disabled",n.disabled)}}function on(e,r){if(e&1&&(f(0),p(1,rn,2,6,"cx-configure-cart-entry",13),u(2,"async"),g()),e&2){let t=a(2).ngIf,n=a();o(),c("ngIf",l(2,1,n.shouldShowButton$)&&(t==null||t.product==null?null:t.product.configurable))}}function an(e,r){if(e&1&&(f(0),p(1,nn,10,14,"ng-container",0),u(2,"async"),p(3,on,3,3,"ng-container",0),u(4,"async"),g()),e&2){let t=a(2);o(),c("ngIf",l(2,2,t.numberOfLineItems$)),o(2),c("ngIf",l(4,4,t.quantityControl$))}}function sn(e,r){if(e&1&&(f(0),p(1,an,5,6,"ng-container",0),g()),e&2){let t=r.ngIf,n=a();o(),c("ngIf",n.isBundleBasedConfigurator(t))}}var R;(function(e){let r;(function(t){t.PRODUCT="product",t.CART_ENTRY="cartEntry",t.ORDER_ENTRY="orderEntry",t.QUOTE_ENTRY="quoteEntry",t.SAVED_CART_ENTRY="savedCartEntry"})(r=e.OwnerType||(e.OwnerType={}))})(R||(R={}));var Mt="_READ_ONLY",ye=function(e){return e.Success="SUCCESS",e.Info="INFO",e.Warning="WARNING",e.Error="ERROR",e}(ye||{}),G=function(e){return e.KEY="KEY",e.NAME="NAME",e.QTY="QTY",e.FORMATTED_PRICE="FORMATTED_PRICE",e.PRICE_VALUE="PRICE_VALUE",e}(G||{}),it=function(e){return e.VERSION="CI#@#VERSION",e.CURRENCY="CI#@#CURRENCY",e.LINE_ITEM="LI",e.LINE_ITEM_DELIMITER="#",e}(it||{}),ut="INITIAL",lt=class e{static getOwnerKey(r,t){if(!t||!r)throw new Error("We expect an owner ID and an owner type");return r+"/"+t}static createInitialOwner(){return{key:ut,configuratorType:ut,id:ut,type:R.OwnerType.PRODUCT}}static isInitialOwner(r){return r.configuratorType===ut}static createOwner(r,t,n="CPQCONFIGURATOR"){return{type:r,id:t,configuratorType:n,key:e.getOwnerKey(r,t)}}},w=(()=>{class e{constructor(t){this.userIdService=t}setOwnerKey(t){t.key=lt.getOwnerKey(t.type,t.id)}getComposedOwnerId(t,n){return t+"+"+n}decomposeOwnerId(t){let n=t.split("+");if(n.length!==2)throw new Error("We only expect 2 parts in ownerId, separated by +, but was: "+t);return{documentId:n[0],entryNumber:n[1]}}getCartId(t){let n=t?.user?.uid===Xt?t.guid:t?.code;if(!n)throw new Error("Cart ID is not defined");return n}hasIssues(t){return this.getNumberOfIssues(t)>0}getNumberOfIssues(t){let n=0;return t?.statusSummaryList?.forEach(i=>{if(i.status===ye.Error){let s=i.numberOfIssues;n=s||0}}),n}isAttributeBasedConfigurator(t){return t?t==="CPQCONFIGURATOR"||t==="TEXTFIELD":!1}isBundleBasedConfigurator(t){return t?t==="CLOUDCPQCONFIGURATOR":!1}isActiveCartContext(t){return(t?.location$??b).pipe(x(n=>n!==Dt.SaveForLater&&n!==Dt.SavedCart))}getSlotsFromLayoutConfiguration(t,n,i,s){let d=t.layoutSlots;return d?d[n][i][s].slots:[]}static{this.\u0275fac=function(n){return new(n||e)(C(at))}}static{this.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),At=(()=>{class e{hasIssues(){return this.commonConfigUtilsService.hasIssues(this.cartEntry)}getOwnerType(){return this.cartEntry.orderCode!==void 0?R.OwnerType.ORDER_ENTRY:R.OwnerType.CART_ENTRY}retrieveOwnerTypeFromAbstractOrderType(t){switch(t.type){case K.ORDER:return R.OwnerType.ORDER_ENTRY;case K.QUOTE:return R.OwnerType.QUOTE_ENTRY;case K.SAVED_CART:return R.OwnerType.SAVED_CART_ENTRY;default:return R.OwnerType.CART_ENTRY}}getEntityKey(){let t=this.cartEntry.entryNumber;if(t===void 0)throw new Error("No entryNumber present in entry");return this.cartEntry.orderCode?this.commonConfigUtilsService.getComposedOwnerId(this.cartEntry.orderCode,t):t.toString()}retrieveEntityKey(t){let n=this.cartEntry.entryNumber;if(n===void 0)throw new Error("No entryNumber present in entry");return t.type!==K.CART?this.commonConfigUtilsService.getComposedOwnerId(t.id,n):n.toString()}getRoute(){let t=this.cartEntry.product?.configuratorType;return!this.readOnly||t?.endsWith(Mt)?"configure"+t:"configureOverview"+t}getDisplayOnly(){let t=this.cartEntry.product?.configuratorType;return this.readOnly||!t||t.endsWith(Mt)}isDisabled(){return this.readOnly?!1:this.disabled}getResolveIssuesA11yDescription(){let t="cx-error-msg-"+this.cartEntry.entryNumber;return!this.getDisplayOnly()&&this.msgBanner?t:void 0}getQueryParams(){return{forceReload:!0,resolveIssues:this.msgBanner&&this.hasIssues()}}isInCheckout(){return this.routingService.getRouterState().pipe(x(t=>t.state.semanticRoute==="checkoutReviewOrder"))}constructor(t){this.commonConfigUtilsService=t,this.routingService=H(W),this.abstractOrderContext=H(fe,{optional:!0}),this.abstractOrderKey$=this.abstractOrderContext?this.abstractOrderContext.key$:pt({type:K.CART}),this.queryParams$=this.isInCheckout().pipe(x(n=>({forceReload:!0,resolveIssues:this.msgBanner&&this.hasIssues(),navigateToCheckout:n,productCode:this.cartEntry.product?.code})))}static{this.\u0275fac=function(n){return new(n||e)(T(w))}}static{this.\u0275cmp=q({type:e,selectors:[["cx-configure-cart-entry"]],inputs:{cartEntry:"cartEntry",readOnly:"readOnly",msgBanner:"msgBanner",disabled:"disabled"},decls:2,vars:3,consts:[["configureText",""],[4,"ngIf"],["class","disabled-link",4,"ngIf"],["class","link cx-action-link","cxAutoFocus","",3,"routerLink","queryParams",4,"ngIf"],[1,"disabled-link"],[4,"ngIf","ngIfThen"],["cxAutoFocus","",1,"link","cx-action-link",3,"routerLink","queryParams"]],template:function(n,i){n&1&&(p(0,Be,4,1,"ng-container",1),u(1,"async")),n&2&&c("ngIf",l(1,1,i.abstractOrderKey$))},dependencies:[L,xt,j,Tt,V],encapsulation:2,changeDetection:0})}}return e})(),dt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({imports:[M,X,$,Z,N]})}}return e})(),cn=(()=>{class e{constructor(t,n){this.commonConfigUtilsService=t,this.cartItemContext=n,this.iconTypes=ce,this.orderEntry$=this.cartItemContext?.item$??b,this.quantityControl$=this.cartItemContext?.quantityControl$??b,this.readonly$=this.cartItemContext?.readonly$??b,this.shouldShowButton$=this.commonConfigUtilsService.isActiveCartContext(this.cartItemContext)}hasIssues(t){return this.commonConfigUtilsService.hasIssues(t)}getNumberOfIssues(t){return this.commonConfigUtilsService.getNumberOfIssues(t)}getErrorMessageId(t){return"cx-error-msg-"+t.entryNumber}static{this.\u0275fac=function(n){return new(n||e)(T(w),T(st,8))}}static{this.\u0275cmp=q({type:e,selectors:[["cx-configurator-issues-notification"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"type"],[3,"id"],["class","cx-error-msg-action",3,"cartEntry","readOnly","msgBanner","disabled",4,"ngIf"],[1,"cx-error-msg-action",3,"cartEntry","readOnly","msgBanner","disabled"]],template:function(n,i){n&1&&(p(0,Ue,3,3,"ng-container",0),u(1,"async")),n&2&&c("ngIf",l(1,1,i.orderEntry$))},dependencies:[L,ue,At,j,V],encapsulation:2})}}return e})(),he=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({providers:[J({id:ct.ITEM_CONFIGURATOR_ISSUES,position:z.REPLACE,component:cn})],imports:[M,X,$,Z,dt]})}}return e})(),un=(()=>{class e{constructor(t,n){this.cartItemContext=t,this.commonConfigUtilsService=n,this.orderEntry$=this.cartItemContext?.item$??b,this.quantityControl$=this.cartItemContext?.quantityControl$??b,this.readonly$=this.cartItemContext?.readonly$??b,this.shouldShowButton$=this.commonConfigUtilsService.isActiveCartContext(this.cartItemContext)}hasStatus(t){let n=t.configurationInfos;return n?n.length>0&&n[0].status!=="NONE":!1}isAttributeBasedConfigurator(t){let n=t.configurationInfos;return n?this.commonConfigUtilsService.isAttributeBasedConfigurator(n[0]?.configuratorType):!1}getHiddenConfigurationInfoId(t){return"cx-configuration-hidden-info-"+t.toString()}static{this.\u0275fac=function(n){return new(n||e)(T(st,8),T(w))}}static{this.\u0275cmp=q({type:e,selectors:[["cx-configurator-cart-entry-info"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","cx-intro cx-visually-hidden",4,"ngIf"],["class","cx-configuration-info",4,"ngFor","ngForOf"],[1,"cx-intro","cx-visually-hidden"],[1,"cx-configuration-info"],[1,"cx-visually-hidden",3,"id"],["aria-hidden","true",1,"cx-label"],["aria-hidden","true",1,"cx-value"],[3,"cartEntry","readOnly","msgBanner","disabled",4,"ngIf"],[3,"cartEntry","readOnly","msgBanner","disabled"]],template:function(n,i){n&1&&(p(0,Qe,2,1,"ng-container",0),u(1,"async")),n&2&&c("ngIf",l(1,1,i.orderEntry$))},dependencies:[It,L,At,j,V],encapsulation:2})}}return e})(),ln=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({providers:[J({id:ct.ITEM_DETAILS,position:z.AFTER,component:un})],imports:[M,X,$,Z,he,dt]})}}return e})(),Nt=function(e){return e.CONFIGURATOR="configurator",e.CONFIGURATOR_PRODUCT_CARD="configuratorProductCard",e}(Nt||{}),ge=(()=>{class e{getProduct(){return this.productListItemContext?this.productListItemContext.product$:this.currentProductService?this.currentProductService.getProduct(["details",Nt.CONFIGURATOR]):pt(null)}getAriaLabelTranslationKey(t){return this.isConfiguratorTypeReadOnly(t)?"configurator.a11y.showDetailsProduct":"configurator.a11y.configureProduct"}getTranslationKey(t){return this.isConfiguratorTypeReadOnly(t)?"configurator.header.toConfigReadOnly":"configurator.header.toconfig"}isDisplayRestartDialog(t){return this.isConfiguratorTypeReadOnly(t)?"false":"true"}isReadOnlyBaseProduct(t){return this.isConfiguratorTypeReadOnly(t.configuratorType)&&this.isBaseProduct(t)}isBaseProduct(t){return!t.baseProduct||t.baseProduct===t.code}navigateToConfigurator(t){this.routingService?.go({cxRoute:"configure"+t.configuratorType,params:{ownerType:this.ownerTypeProduct,entityKey:t.code}},{queryParams:{displayRestartDialog:this.isDisplayRestartDialog(t.configuratorType),productCode:t.code}})}isConfiguratorTypeReadOnly(t){return!!t&&t.trim().endsWith(Mt)}constructor(t,n){this.productListItemContext=t,this.currentProductService=n,this.nonConfigurable={configurable:!1},this.product$=this.getProduct().pipe(x(i=>i||this.nonConfigurable)),this.ownerTypeProduct=R.OwnerType.PRODUCT,this.routingService=H(W,{optional:!0})}static{this.\u0275fac=function(n){return new(n||e)(T(pe,8),T(le,8))}}static{this.\u0275cmp=q({type:e,selectors:[["cx-configure-product"]],decls:2,vars:3,consts:[[4,"ngIf"],[4,"cxFeature"],["cxAutoFocus","",1,"btn","btn-primary","btn-block",3,"click"],["cxAutoFocus","",1,"btn","btn-primary","btn-block",3,"routerLink","queryParams"]],template:function(n,i){n&1&&(p(0,Je,2,1,"ng-container",0),u(1,"async")),n&2&&c("ngIf",l(1,1,i.product$))},dependencies:[L,xt,ne,j,Tt,V],encapsulation:2,changeDetection:0})}}return e})(),dn=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({providers:[J({id:de.ITEM_ACTIONS,position:z.AFTER,component:ge})],imports:[M,N,ie.withConfig({cmsComponents:{ConfigureProductComponent:{component:ge}}}),X,$,Z,re]})}}return e})(),pn=(()=>{class e{constructor(){this.logger=H(zt)}retrieveLineItems(t){let n=[];if(t.configurationInfos){let i=t.configurationInfos.filter(O=>O&&(O.configurationLabel||O.configurationValue)),s=i[0]?.configurationLabel,d=i[0]?.configurationValue;s!==it.VERSION?i.forEach(O=>n.push(this.prepareLineItem(O))):s===it.VERSION&&Number(d)>=2?n=this.processConfigurationInfos(i):this.logWarning("Wrong ConfigurationInfo version")}return n}prepareLineItem(t){let n=t.configurationValue?t.configurationValue.split("x"):[];return{name:t.configurationLabel?this.removeDelimiter(t.configurationLabel):"",formattedQuantity:n.length>=1?n[0].trim():"",formattedPrice:n.length>=2?n[1].trim():""}}removeDelimiter(t){let n=t.trim();return n.charAt(n.length-1)===":"&&(n=n.substring(0,n.length-1)),n}processConfigurationInfos(t){let n=new Map;t.forEach(d=>this.processConfigurationInfoEntry(n,d));let i=new Map(Array.from(n).sort((d,O)=>d[0]-O[0]));return Array.from(i.values())}processConfigurationInfoEntry(t,n){if(n.configurationLabel){let i=n.configurationLabel.split(it.LINE_ITEM_DELIMITER);if(i[0]===it.LINE_ITEM){let s=n.configurationValue?n.configurationValue:"";this.addLineItemData(t,i,s)}}}addLineItemData(t,n,i){if(n.length===3){let s=Number(n[1]),d;switch(n[2]){case G.NAME:d=this.getOrCreateLineItem(t,s),d.name=i;break;case G.QTY:d=this.getOrCreateLineItem(t,s),d.formattedQuantity=i;break;case G.FORMATTED_PRICE:d=this.getOrCreateLineItem(t,s),d.formattedPrice=i;break;case G.KEY:case G.PRICE_VALUE:break;default:this.logWarning("Wrong LineItem format")}}else this.logWarning("Wrong LineItem format")}getOrCreateLineItem(t,n){let i=t.get(n)??{name:"",formattedQuantity:"",formattedPrice:""};return t.get(n)||t.set(n,i),i}logWarning(t){$t()&&this.logger.warn(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),fn=(()=>{class e{constructor(t,n,i,s,d){this.commonConfigUtilsService=t,this.configCartEntryBundleInfoService=n,this.breakpointService=i,this.translation=s,this.cartItemContext=d,this.orderEntry$=this.cartItemContext?.item$??b,this.quantityControl$=this.cartItemContext?.quantityControl$??b,this.readonly$=this.cartItemContext?.readonly$??b,this.hideItems=!0,this.lineItems$=this.orderEntry$.pipe(x(O=>this.configCartEntryBundleInfoService.retrieveLineItems(O))),this.numberOfLineItems$=this.lineItems$.pipe(x(O=>O.length)),this.shouldShowButton$=this.commonConfigUtilsService.isActiveCartContext(this.cartItemContext)}toggleItems(){this.hideItems=!this.hideItems}isBundleBasedConfigurator(t){let n=t.configurationInfos;return n?this.commonConfigUtilsService.isBundleBasedConfigurator(n[0]?.configuratorType):!1}getButtonText(t){return t||(t=""),this.hideItems?this.translation.translate("configurator.header.show").pipe(I(1)).subscribe(n=>t+=n):this.translation.translate("configurator.header.hide").pipe(I(1)).subscribe(n=>t+=n),t}getItemsMsg(t){let n="";return this.translation.translate("configurator.a11y.cartEntryBundleInfo",{items:t}).pipe(I(1)).subscribe(i=>n=i),this.getButtonText(n)}getHiddenItemInfo(t){let n="";return t.name&&t.formattedPrice&&t.formattedQuantity?this.translation.translate("configurator.a11y.cartEntryBundle",{name:t.name,price:t.formattedPrice,quantity:t.formattedQuantity}).pipe(I(1)).subscribe(i=>n=i):t.name&&t.formattedPrice?this.translation.translate("configurator.a11y.cartEntryBundleNameWithPrice",{name:t.name,price:t.formattedPrice}).pipe(I(1)).subscribe(i=>n=i):t.name&&t.formattedQuantity?this.translation.translate("configurator.a11y.cartEntryBundleNameWithQuantity",{name:t.name,quantity:t.formattedQuantity}).pipe(I(1)).subscribe(i=>n=i):this.translation.translate("configurator.a11y.cartEntryBundleName",{name:t.name}).pipe(I(1)).subscribe(i=>n=i),n}getHiddenItemInfoId(t){return"cx-item-hidden-info-"+t.toString()}static{this.\u0275fac=function(n){return new(n||e)(T(w),T(pn),T(tt),T(oe),T(st,8))}}static{this.\u0275cmp=q({type:e,selectors:[["cx-configurator-cart-entry-bundle-info"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-number-items"],[3,"click"],[1,"cx-toggle-hide-items"],[1,"cx-item-infos"],["class","cx-item-info",4,"ngFor","ngForOf"],[1,"cx-item-info"],[1,"cx-visually-hidden",3,"id"],["aria-hidden","true",1,"cx-item-name"],["aria-hidden","true",1,"cx-item-quantity"],["aria-hidden","true",1,"cx-item-price"],[1,"cx-identifier"],[1,"cx-item"],[3,"cartEntry","readOnly","msgBanner","disabled",4,"ngIf"],[3,"cartEntry","readOnly","msgBanner","disabled"]],template:function(n,i){n&1&&(p(0,sn,2,1,"ng-container",0),u(1,"async")),n&2&&c("ngIf",l(1,1,i.orderEntry$))},dependencies:[It,L,At,j,V,se],encapsulation:2})}}return e})(),gn=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({providers:[J({id:ct.ITEM_BUNDLE_DETAILS,position:z.AFTER,component:fn})],imports:[M,$,dt]})}}return e})(),mn=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({imports:[he,ln,gn,dt,dn]})}}return e})(),Cn={backend:{occ:{endpoints:{product:{configurator:"products/${productCode}?fields=code,configurable,configuratorType",configuratorProductCard:"products/${productCode}?fields=code,description,images(DEFAULT)"}}},loadingScopes:{product:{list:{include:[Nt.CONFIGURATOR]}}}}},yn=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({providers:[D(Cn)]})}}return e})(),ve=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({imports:[yn,mn]})}}return e})(),P;(function(e){let r;(function(t){t.CONFIGURATION="configuration",t.OVERVIEW="overview"})(r=e.PageType||(e.PageType={}))})(P||(P={}));var wt=(()=>{class e{constructor(t,n){this.configUtilsService=t,this.routingService=n,this.ROUTE_FRAGMENT_CONFIGURE="configure",this.ROUTE_FRAGMENT_OVERVIEW="configureOverview"}extractRouterData(){return this.routingService.getRouterState().pipe(Q(t=>t.state.params.entityKey),Q(t=>t.nextState===void 0),x(t=>{let n=this.createOwnerFromRouterState(t),i=t.state.semanticRoute;return{owner:n,isOwnerCartEntry:n.type===R.OwnerType.CART_ENTRY,displayOnly:t.state.params.displayOnly,resolveIssues:t.state.queryParams?.resolveIssues==="true",skipConflicts:t.state.queryParams?.skipConflicts==="true",forceReload:t.state.queryParams?.forceReload==="true",expMode:t.state.queryParams?.expMode==="true",displayRestartDialog:t.state.queryParams?.displayRestartDialog==="true",configIdTemplate:t.state.queryParams?.configIdTemplate,navigationId:t.navigationId,pageType:i&&i.includes(this.ROUTE_FRAGMENT_OVERVIEW)?P.PageType.OVERVIEW:P.PageType.CONFIGURATION,navigateToCheckout:t.state.queryParams?.navigateToCheckout==="true",productCode:t.state.queryParams?.productCode}}))}createOwnerFromRouterState(t){let n=lt.createInitialOwner(),i=t.state.params;if(i.ownerType){let d=i.entityKey;n.type=i.ownerType,n.id=d}else n.type=R.OwnerType.PRODUCT,n.id=i.rootProduct;let s=t.state.semanticRoute;if(s){let d=this.getConfiguratorTypeFromSemanticRoute(s);n.configuratorType=d}return this.configUtilsService.setOwnerKey(n),n}getConfiguratorTypeFromSemanticRoute(t){if(t.startsWith(this.ROUTE_FRAGMENT_OVERVIEW))return t.split(this.ROUTE_FRAGMENT_OVERVIEW)[1];if(t.startsWith(this.ROUTE_FRAGMENT_CONFIGURE))return t.split(this.ROUTE_FRAGMENT_CONFIGURE)[1];throw new Error("Not able to determine configurator type")}static{this.\u0275fac=function(n){return new(n||e)(C(w),C(W))}}static{this.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var vn=(()=>{class e{static{this.templateName="CpqConfigurationTemplate"}static{this.sectionHeaderDisplayOnly="headerDisplayOnly"}static{this.sectionNavigationDisplayOnly="navigationDisplayOnly"}static{this.sectionHeader="header"}static{this.sectionNavigation="navigation"}constructor(t,n,i,s){this.configuratorRouterExtractorService=t,this.breakpointService=n,this.layoutConfig=i,this.commonConfiguratorUtilsService=s}handle(t,n,i){return n===e.templateName&&i===e.sectionHeader?this.compileRouterAndResolution().pipe(I(1)).subscribe(s=>{t=t.pipe(x(d=>this.getHeaderSlots(d,s)))}):n===e.templateName&&i===e.sectionNavigation&&this.compileRouterAndResolution().pipe(I(1)).subscribe(s=>{t=t.pipe(x(d=>this.getNavigationSlots(d,s)))}),t}compileRouterAndResolution(){return this.configuratorRouterExtractorService.extractRouterData().pipe(B(t=>this.breakpointService.isUp(A.lg).pipe(x(n=>({isLargeResolution:n,routerData:t})))))}getHeaderSlots(t,n){if(n.routerData.pageType===P.PageType.CONFIGURATION){let i=["PreHeader"];return i.push(...t),i}else return n.routerData.displayOnly?n.isLargeResolution?this.commonConfiguratorUtilsService.getSlotsFromLayoutConfiguration(this.layoutConfig,e.templateName,e.sectionHeaderDisplayOnly,A.lg):this.commonConfiguratorUtilsService.getSlotsFromLayoutConfiguration(this.layoutConfig,e.templateName,e.sectionHeaderDisplayOnly,A.xs):t}getNavigationSlots(t,n){return n.routerData.pageType===P.PageType.OVERVIEW&&n.routerData.displayOnly?n.isLargeResolution?this.commonConfiguratorUtilsService.getSlotsFromLayoutConfiguration(this.layoutConfig,e.templateName,e.sectionNavigationDisplayOnly,A.lg):this.commonConfiguratorUtilsService.getSlotsFromLayoutConfiguration(this.layoutConfig,e.templateName,e.sectionNavigationDisplayOnly,A.xs):t}static{this.\u0275fac=function(n){return new(n||e)(C(wt),C(tt),C(St),C(w))}}static{this.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_e=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({providers:[D({layoutSlots:{CpqConfigurationTemplate:{header:{lg:{slots:["SiteLogo","CpqConfigExitButton","MiniCart"]},xs:{slots:["SiteLogo","CpqConfigExitButton","MiniCart"]}},headerDisplayOnly:{lg:{slots:["SiteContext","SiteLinks","SiteLogo","SearchBox","SiteLogin","MiniCart","NavigationBar"]},xs:{slots:["PreHeader","SiteLogo","SearchBox","MiniCart"]}},navigation:{lg:{slots:[]},slots:["CpqConfigMenu"]},navigationDisplayOnly:{lg:{slots:[]},xs:{slots:["SiteLogin","NavigationBar","SiteContext","SiteLinks"]}},lg:{slots:["CpqConfigHeader","CpqConfigBanner","CpqConfigMenu","CpqConfigContent","CpqConfigOverviewBanner","CpqConfigOverviewContent","CpqConfigBottombar"]},slots:["CpqConfigHeader","CpqConfigBanner","CpqConfigContent","CpqConfigOverviewBanner","CpqConfigOverviewContent","CpqConfigBottombar"]}}}),{provide:Rt,useExisting:vn,multi:!0}]})}}return e})(),_n={routing:{routes:{configureCLOUDCPQCONFIGURATOR:{paths:["configure/cpq/:ownerType/entityKey/:entityKey"]}}}},In=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({providers:[D(_n)],imports:[N.forChild([{path:null,data:{cxRoute:"configureCLOUDCPQCONFIGURATOR"},component:et,canActivate:[nt]}]),bt,_e]})}}return e})(),En={routing:{routes:{configureOverviewCLOUDCPQCONFIGURATOR:{paths:["configure-overview/cpq/:ownerType/entityKey/:entityKey/displayOnly/:displayOnly","configure-overview/cpq/:ownerType/entityKey/:entityKey"]}}}},xn=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({providers:[D(En)],imports:[N.forChild([{path:null,component:et,data:{cxRoute:"configureOverviewCLOUDCPQCONFIGURATOR"},canActivate:[nt]}]),_e]})}}return e})(),Tn=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpointsService=n,this.userIdService=i}getCpqAccessData(){return this.userIdService.takeUserId(!0).pipe(B(t=>this.http.get(this.occEndpointsService.buildUrl("getCpqAccessData",{urlParams:{userId:t}}))))}static{this.\u0275fac=function(n){return new(n||e)(C(Qt),C(Zt),C(at))}}static{this.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),On=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=S({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=C(Yt),i},providedIn:"root"})}}return e})(),Sn=(()=>{class e{constructor(t,n,i){this.cpqAccessLoaderService=t,this.authService=n,this.config=i,this.EXPIRED_TOKEN={accessToken:"INVALID DUMMY",accessTokenExpirationTime:0,endpoint:""},this._cpqAccessDataError=!1}ngOnDestroy(){this.currentCpqAccessSubscription?.unsubscribe(),this.currentAuthServiceSubscription?.unsubscribe(),this._cpqAccessDataErrorSubscription?.unsubscribe()}getCpqAccessData(){return(!this.cpqAccessData$||this._cpqAccessDataError)&&this.initCpqAccessData(),this.cpqAccessData$}renewCpqAccessData(){this.cpqAccessData$&&(this.stopAutoFetchingCpqAccessData(),this._cpqAccessData$.next(this.EXPIRED_TOKEN),this.authService.isUserLoggedIn().pipe(I(1)).subscribe(t=>{t&&this.startAutoFetchingCpqAccessData()}))}initCpqAccessData(){this._cpqAccessData$=new Bt(this.EXPIRED_TOKEN),this._cpqAccessDataError=!1,this._cpqAccessDataErrorSubscription?.unsubscribe(),this._cpqAccessDataErrorSubscription=this._cpqAccessData$.subscribe({error:()=>this._cpqAccessDataError=!0}),this.cpqAccessData$=this._cpqAccessData$.pipe(Q(t=>!this.isTokenExpired(t))),this.currentAuthServiceSubscription?.unsubscribe(),this.currentAuthServiceSubscription=this.authService.isUserLoggedIn().pipe(Ut()).subscribe(t=>{t?(this.stopAutoFetchingCpqAccessData(),this.startAutoFetchingCpqAccessData()):(this.stopAutoFetchingCpqAccessData(),this._cpqAccessData$.next(this.EXPIRED_TOKEN))})}stopAutoFetchingCpqAccessData(){this.currentCpqAccessSubscription?.unsubscribe()}startAutoFetchingCpqAccessData(){this.currentCpqAccessSubscription=this.cpqAccessLoaderService.getCpqAccessData().pipe(kt(t=>Pt(this.fetchNextTokenIn(t)).pipe(B(()=>this.cpqAccessLoaderService.getCpqAccessData())))).subscribe(this._cpqAccessData$)}fetchNextTokenIn(t){let n=this.config.productConfigurator.cpq?.authentication;if(n){let i=t.accessTokenExpirationTime-Date.now()-n.tokenExpirationBuffer;return i<n.tokenMinValidity?i=n.tokenMinValidity:i>n.tokenMaxValidity&&(i=n.tokenMaxValidity),i}else throw new Error("CPQ authentication configuration not present")}isTokenExpired(t){let n=this.config.productConfigurator.cpq?.authentication;if(n)return Date.now()>t.accessTokenExpirationTime-n.tokenExpirationBuffer;throw new Error("CPQ authentication configuration not present")}static{this.\u0275fac=function(n){return new(n||e)(C(Tn),C(Jt),C(On))}}static{this.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Rn="x-cpq-configurator",bn=(()=>{class e{constructor(t){this.cpqAccessStorageService=t,this.HEADER_ATTR_CPQ_SESSION_ID="x-cpq-session-id",this.HEADER_ATTR_CPQ_NO_COOKIES="x-cpq-disable-cookies",this.cpqSessionId=null}intercept(t,n){return t.headers.has(Rn)?this.cpqAccessStorageService.getCpqAccessData().pipe(I(1),B(i=>n.handle(this.enrichHeaders(t,i)).pipe(qt(s=>this.handleError(s,n,t)),ft(s=>this.extractCpqSessionId(s))))):n.handle(t)}handleError(t,n,i){return t instanceof Et&&t.status===403?(this.cpqSessionId=null,this.cpqAccessStorageService.renewCpqAccessData(),this.cpqAccessStorageService.getCpqAccessData().pipe(I(1),B(s=>n.handle(this.enrichHeaders(i,s)).pipe(ft(d=>this.extractCpqSessionId(d)))))):Ft(()=>t)}extractCpqSessionId(t){(t instanceof Gt||t instanceof Et)&&t.headers.has(this.HEADER_ATTR_CPQ_SESSION_ID)&&(this.cpqSessionId=t.headers.get(this.HEADER_ATTR_CPQ_SESSION_ID))}enrichHeaders(t,n){let i=t.clone({url:n.endpoint+t.url,headers:new Kt({Authorization:"Bearer "+n.accessToken,[this.HEADER_ATTR_CPQ_NO_COOKIES]:"true"})});return this.cpqSessionId&&(i=i.clone({setHeaders:{[this.HEADER_ATTR_CPQ_SESSION_ID]:this.cpqSessionId}})),i}static{this.\u0275fac=function(n){return new(n||e)(C(Sn))}}static{this.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Dn={productConfigurator:{cpq:{authentication:{tokenExpirationBuffer:1e4,tokenMaxValidity:24*60*60*1e3,tokenMinValidity:5e3}}}},Mn=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({providers:[{provide:Ht,useClass:bn,multi:!0},D(Dn)],imports:[M]})}}return e})(),hi=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({providers:[D({routing:{protected:!0}})],imports:[In,xn,Mn]})}}return e})(),An="productConfiguratorRulebased",Nn=(()=>{class e extends Ot{constructor(t){super(t),this.globalMessageService=t,this.responseStatus=ae.BAD_REQUEST}getPriority(){return 0}hasMatch(t){return super.hasMatch(t)&&this.isRelatedToProductConfigurator(t)}handleError(t,n){this.getIllegalStateErrorsRelatedToProductConfigurator(n).forEach(({message:i})=>{this.handleIllegalArgumentIssues(i)})}handleIllegalArgumentIssues(t){this.isIllegalStateErrorRelatedToMakeToStock(t)&&this.globalMessageService.add({key:"configurator.httpHandlers.makeToStockBaseProductIssue"},te.MSG_TYPE_ERROR)}isNotEmpty(t){return t?.length>0}isIllegalStateErrorRelatedToMakeToStock(t){let n=/base product is defined as 'make-to-stock'/;return t.match(n)!==null}isIllegalStateErrorRelatedToProductConfigurator(t){return t&&this.isIllegalStateErrorRelatedToMakeToStock(t)}getIllegalStateErrorsRelatedToProductConfigurator(t){return(t?.error?.errors??[]).filter(n=>n.type==="IllegalStateError").filter(n=>this.isIllegalStateErrorRelatedToProductConfigurator(n.message))}isRelatedToProductConfigurator(t){return this.isNotEmpty(this.getIllegalStateErrorsRelatedToProductConfigurator(t))}static{this.\u0275fac=function(n){return new(n||e)(C(ee))}}static{this.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),wn=["ConfiguratorForm","ConfiguratorOverviewForm","ConfiguratorOverviewMenu","ConfiguratorUpdateMessage","ConfiguratorAddToCartButton","ConfiguratorMenu","ConfiguratorGroupTitle","ConfiguratorOverviewBanner","ConfiguratorPrevNext","ConfiguratorPriceSummary","ConfiguratorProductTitle","ConfiguratorTabBar","ConfiguratorExitButton","ConfiguratorVariantCarousel","CpqConfiguratorConflictAndErrorMessagesComponent","ConfiguratorOverviewFilterButton","ConfiguratorOverviewFilter","ConfiguratorOverviewSidebar"];function Bn(){return{featureModules:{[An]:{cmsComponents:wn}}}}var Fn=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({providers:[Wt(Bn)]})}}return e})(),Pn={routing:{routes:{configureCPQCONFIGURATOR:{paths:["configure/vc/:ownerType/entityKey/:entityKey"]},configureCPQCONFIGURATOR_READ_ONLY:{paths:["configure-overview/vc/:ownerType/entityKey/:entityKey/displayOnly/true"]},configureOverviewCPQCONFIGURATOR:{paths:["configure-overview/vc/:ownerType/entityKey/:entityKey/displayOnly/:displayOnly","configure-overview/vc/:ownerType/entityKey/:entityKey"]}}}},qn=(()=>{class e{static forRoot(){return{ngModule:e,providers:[D(Pn)]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({})}}return e})(),Un=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({providers:[D({layoutSlots:{VariantConfigurationTemplate:{header:{lg:{slots:["PreHeader","SiteLogo","VariantConfigExitButton","MiniCart"]},xs:{slots:["PreHeader","SiteLogo","VariantConfigExitButton","MiniCart"]}},navigation:{lg:{slots:[]},slots:["VariantConfigMenu"]},lg:{slots:["VariantConfigHeader","VariantConfigMenu","VariantConfigContent","VariantConfigBottombar","VariantConfigVariantCarousel"]},slots:["VariantConfigHeader","VariantConfigContent","VariantConfigBottombar","VariantConfigVariantCarousel"]}}})]})}}return e})(),kn=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({imports:[N.forChild([{path:null,data:{cxRoute:"configureCPQCONFIGURATOR"},component:et,canActivate:[nt]}]),bt,Un]})}}return e})(),Ln=(()=>{class e{static{this.templateName="VariantConfigurationOverviewTemplate"}static{this.sectionDisplayOnlyName="headerDisplayOnly"}constructor(t,n,i,s){this.configuratorRouterExtractorService=t,this.breakpointService=n,this.layoutConfig=i,this.commonConfiguratorUtilsService=s}handle(t,n,i){return n===e.templateName&&i==="header"&&this.configuratorRouterExtractorService.extractRouterData().pipe(I(1)).subscribe(s=>{s.displayOnly&&(t=t.pipe(B(()=>this.breakpointService.isUp(A.lg)),x(d=>d?this.commonConfiguratorUtilsService.getSlotsFromLayoutConfiguration(this.layoutConfig,e.templateName,e.sectionDisplayOnlyName,A.lg):this.commonConfiguratorUtilsService.getSlotsFromLayoutConfiguration(this.layoutConfig,e.templateName,e.sectionDisplayOnlyName,A.xs))))}),t}static{this.\u0275fac=function(n){return new(n||e)(C(wt),C(tt),C(St),C(w))}}static{this.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),jn=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({providers:[D({layoutSlots:{VariantConfigurationOverviewTemplate:{header:{slots:["SiteLogo","VariantConfigOverviewExitButton","MiniCart"]},headerDisplayOnly:{lg:{slots:["SiteContext","SiteLinks","SiteLogo","SearchBox","SiteLogin","MiniCart","NavigationBar"]},xs:{slots:["PreHeader","SiteLogo","SearchBox","MiniCart"]}},lg:{slots:["VariantConfigOverviewHeader","VariantConfigOverviewBanner","VariantConfigOverviewNavigation","VariantConfigOverviewContent","VariantConfigOverviewBottombar"]},slots:["VariantConfigOverviewHeader","VariantConfigOverviewBanner","VariantConfigOverviewFilterButton","VariantConfigOverviewContent","VariantConfigOverviewBottombar"]}}}),{provide:Rt,useExisting:Ln,multi:!0}]})}}return e})(),Vn=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({imports:[N.forChild([{path:null,component:et,data:{cxRoute:"configureOverviewCPQCONFIGURATOR"},canActivate:[nt]}]),jn]})}}return e})(),vi=(()=>{class e{static forRoot(){return{ngModule:e}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=m({providers:[{provide:Ot,useExisting:Nn,multi:!0}],imports:[M,ve,Fn,kn,Vn,qn.forRoot()]})}}return e})();export{R as a,lt as b,w as c,Nt as d,P as e,wt as f,Rn as g,hi as h,An as i,vi as j};
